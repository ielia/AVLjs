<!DOCTYPE HTML>
<html>
    <head>
        <script src="avl.js"></script>
        <script src="vis.js"></script>
        <script src="intruder.js"></script>
        <script language="javascript">
let tree = new Tree();
function maybeInsert(event) {
    if (event.keyCode === 13) {
        const insertBox = document.getElementById('insert-box');
        insertBox.value.split(' ').forEach((value) => {
            if (value) {
                const num = Number(value);
                insertAndVisualise(tree, num);
            }
        });
        insertBox.value = '';
    }
}
        </script>
        <style>
* {
    box-sizing: border-box;
}
body {
    background-color: gray;
}
#page-container {
    padding: 0 10px;
    width: 100%;
}
#insert-box {
    width: 100%;
}
#canvas {
    background-color: black;
    display: flex;
    flex: auto 0 0;
    flex-direction: column;
    justify-content: space-around;
    padding: 25px;
    margin: 10px 0;
    width: 100%;
}
.parent-link {
    stroke: white;
    stroke-width: 2;
}
.node {
    fill: lightgray;
    rx: 5;
    ry: 5;
}
.node.active {
    stroke: purple;
    stroke-width: 2;
}
.node.heavy-left {
    fill: lightred;
}
.node.heavy-right {
    fill: lightgreen;
}
.text {
    alignment-baseline: central;
    text-anchor: middle;
}
.text.value {
    fill: black;
}
.text.height {
    font-size: 65%
}
.text.height.node-height {
    fill: blue;
}
.text.height.balance-factor {
    fill: yellow;
}
.text.height.left {
    fill: red;
}
.text.height.right {
    fill: green;
}
#operation-log {
    background-color: black;
    color: lightgray;
    display: flex;
    flex-direction: column;
    font-family: monospace;
    margin: 10px 0;
    width: 100%;
}
.log-entry {
    padding: 5px 10px;
    width: 100%;
}
.log-entry:nth-of-type(2n) {
    background-color: #222;
}
        </style>
    </head>
    <body>
        <div id="page-container">
            <h1>AVL Tree</h1>
            <input type="text" id="insert-box" placeholder="insert values" onkeydown="maybeInsert(event);" />
            <div id="canvas">
                <svg viewBox="0 0 0 0" xmlns="http://www.w3.org/2000/svg">
                </svg>
            </div>
            <div id="operation-log"></div>
        </div>
        <script language="javascript">
            document.getElementById('insert-box').focus();
        </script>
    </body>
</html>
